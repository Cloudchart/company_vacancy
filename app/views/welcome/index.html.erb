<%- class_for_root_tag main: :newsplash, header: :inverse, footer: :inverse -%>

<header>
  <h1>
    <%= t('.newsplash.title').html_safe %>
  </h1>
  <p>
    <%= t('.newsplash.header').html_safe %>
  </p>
</header>

<section>
  
  <figure data-react-chart-preview-mount-point>
  </figure>
  
  <p>
    <%= t('.newsplash.note').html_safe %>
  </p>
  
  <button data-behaviour="invite-button">
    Request Invite
  </button>
  
</section>

<%-
  pagescript_params(
    chart_id:   ENV['NEWSPLASH_CHART_ID'],
    modal: params[:modal],
    token:      TokenSerializer.new(( Token.find(params[:token]) rescue Token.find_by_rfc1751(params[:token]) rescue nil )).as_json
  ) 
-%>

<%- content_for :search, "&nbsp;".html_safe -%>

<%- content_for :authentication do -%>
  <%= link_to "Log In", '', data: { behaviour: "login-button" } %>

  <button class="orgpad inverse auth" data-behaviour="invite-button">
    <span>
      Invited?
    </span>
    <%= font_awesome "ticket" %>
  </button>
<%- end -%>
