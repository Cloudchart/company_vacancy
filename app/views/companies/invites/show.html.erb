<article class="company-invite">

  <div class="author">
    <div data-react-mount-point="avatar"></div>
    <%= @author.full_name %> invited you to join this company:
  </div>

  <div class="company">
    <%= link_to company_path(@company) do %>
      <% if @company.logotype %>
        <%= image_tag(@company.logotype.url) %> <br>
      <% end %>
      <strong><%= @company.name %></strong>
    <% end %>
  </div>

  <% if current_user %>
    <p>
      If you want to join as <%= t("roles.#{@token.data[:role]}") %>, please accept this invitation.
    </p>

    <p>
      <div class="button green">
        <%= link_to 'Accept', accept_company_invite_path(@token.owner, @token), method: :post %>
      </div>
    </p>

    <p>
      <%= link_to 'No, thanks', company_invite_path(@token.owner, @token), method: :delete, data: { confirm: 'Are you sure?' } %>
    </p>

  <% else %>
    <p>
      Since you're not logged in, please log in or sign up to accept this invitation.
    </p>
    
    <p>
      <%= link_to "Log In", '', data: { behaviour: "invite-login-button" } %>

      or

      <button class="orgpad" data-behaviour="signup-button">
        Sign Up
      </button>
    </p>
    
  <% end %>
  
</article>
