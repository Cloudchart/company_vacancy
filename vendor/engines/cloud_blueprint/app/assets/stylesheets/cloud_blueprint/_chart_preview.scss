$chart-preview-border-color: hsl(0, 0%, 87%);

$chart-preview-node-font-size: 10pt;
$chart-preview-node-padding: 5pt 10pt;
$chart-preview-node-header-font-weight: 600;

$chart-preview-node-flag-color: hsl(0, 82%, 57%);
$chart-preview-node-flag-height: 15pt;
$chart-preview-node-flag-width: 9pt;


// Chart preview node flag mixin
//

@mixin chart-preview-node-flag($color: $chart-preview-node-flag-color, $width: $chart-preview-node-flag-width, $height: $chart-preview-node-flag-height) {
  background-color: $color;
  height: $height - $width;
  width: $width;
  
  &::after {
    border: $width / 2 solid $color;
    border-bottom-color: transparent;
    bottom: - $width;
    content: '';
    height: $width;
    left: 0;
    position: absolute;
    width: $width;
  }
}


// Chart preview node mixin
//

@mixin chart-preview-node {
  display: inline-block;
  font-size: $chart-preview-node-font-size;
  padding: $chart-preview-node-padding;
  position: absolute;
  text-align: center;
  
  header {
    font-weight: $chart-preview-node-header-font-weight;
  }
  
  ul {
    list-style: none;
    margin: 0;
    padding: 0;
    
    li.vacancy {
      font-style: italic;
    }
  }
  
  header + ul {
    margin-top: 2pt;
  }
  
  .flag {
    @include chart-preview-node-flag;
    @include position(absolute, -2pt 2pt 0 0);
  }
}


// Chart preview container
//

.blueprint-chart-preview-container {
  @include position(absolute, 0px 0px 0px 0px);
  
  border: 1pt solid $chart-preview-border-color;
  overflow: hidden;
}


// Chart preview
//

.blueprint-chart-preview {
  @include position(absolute, 0px 0px 0px 0px);
  @include transform-origin(0px 0px);

  background-image: image-url('chart-background.png');
  background-position: center center;
  background-size: 50pt;
  cursor: move;
  position: relative;
  
  
  svg {
    @include position(absolute, 0px 0px 0px 0px);
  }
  
  .node {
    @include chart-preview-node;

    cursor: pointer;
  }
  
}
