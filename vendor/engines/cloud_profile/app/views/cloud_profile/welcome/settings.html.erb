<%- class_for_main 'cloud-profile' -%>


<%- cloud_profile_nav_current_tab :settings -%>
<%= render partial: 'shared/nav' %>


<article class="profile">

  <section class="profile-name">
    <h1>
      <%= t '.name', default: 'Personal' %>
    </h1>

    <%= form_for current_user, html: { class: nil, id: nil } do |form| %>
      <%= form.text_field :first_name, id: nil, size: 10, placeholder: t('.first_name_placeholder', default: 'First name') %>
      <%= form.text_field :last_name, id: nil, size: 10, placeholder: t('.last_name_placeholder', default: 'Last name') %>
    <%- end -%>

  </section>
  

  <section class="profile-emails">
    <h1>
      <%= t '.emails', default: 'Emails' %>
    </h1>
  
    <ul>
      <%- current_user.emails.each do |email| -%>
        <li class="email">
          <%= font_awesome 'check-circle' %>
          <span class="address"><%= email.address %></span>
          <%= link_to font_awesome('times'), '' if current_user.emails.size > 1 %>
        </li>
      <%- end -%>
      
      <%- current_user.tokens.where(name: 'email-verification').each do |token| -%>
        <li class="token">
          <%= font_awesome 'question-circle' %>
          <span class="address"><%= token.data[:address] %></span>
          <%= link_to font_awesome('envelope'), '', class: 'envelope' %>
          <%= link_to font_awesome('times-circle'), '' %>
        </li>
      <%- end -%>
      
      <li class="form">
        <%= form_tag '' do %>
          <%= text_field_tag :address, '', autofocus: false, placeholder: t('.address_placeholder', default: 'Enter e-mail') %>
          <button>
            <%= font_awesome 'magic' %>
          </button>
        <%- end -%>
      </li>
      
      <li class="new">
        <%= link_to font_awesome('plus'), new_email_path %>
      </li>
    </ul>
  </section>  
  
  <section class="profile-social-networks">
    <h1>
      <%= t '.social_networks', default: 'Social Networks' %>
    </h1>
  
    <ul>
      <li>
        <%= link_to font_awesome('plus'), '' %>
      </li>
    </ul>
  </section>

</article>
